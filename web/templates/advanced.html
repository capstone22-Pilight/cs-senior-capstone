{% extends "base.html" %}
{% block body %}

<link href="/static/css/advanced.css" rel="stylesheet">

<div id="advancedpage" class="clear">
    <h2>
        {% if lid != None: %}
            Light {{ lid }}
        {% else %}
            Group {{ gid }}
        {% endif %}
    </h2>
    <div id="leftside" class="box box-en">
        <h4>
            Rule builder:
        </h4>
        <p>
            <form>
                <input type="radio" name="hierarchy" value="parent"> Use the parent group's settings<br>
                <input type="radio" name="hierarchy" value="own" checked> Override group settings completely<br>
                <input type="radio" name="hierarchy" value="or"> Turn on using the following settings and also with the group's settings<br>
                <input type="radio" name="hierarchy" value="and"> Turn on using the following settings, but only if the group's settings also allow it<br>
                <input type="radio" name="hierarchy" value="manual"> Control this light manually<br>
            </form>
        </p>

        <p>
            Turn on at:
            <form>
                <input type="radio" name="time_on" value="none"> None<br>
                <input type="radio" name="time_on" value="sunset" checked> Sunset<br>
                <input type="radio" name="time_on" value="sunrise"> Sunrise<br>
                <input type="radio" name="time_on" value="other"> Time: <input type="time" name="time_on" value="18:00"><br>
                Toggle early: <input type="text" name="time_on_early" placeholder="hh:mm:ss"><br>
                Toggle late: <input type="text" name="time_on_late" placeholder="hh:mm:ss"><br>
                <input type="checkbox" name="time_on_random"> Randomize in early/late period
            </form>
        </p>
        <p>
            Turn off at:
            <form>
                <input type="radio" name="time_off" value="none"> None<br>
                <input type="radio" name="time_off" value="sunset"> Sunset<br>
                <input type="radio" name="time_off" value="sunrise" checked> Sunrise<br>
                <input type="radio" name="time_off" value="other"> Time: <input type="time" name="time_off" value="08:00"><br>
                Toggle early: <input type="text" name="time_off_early" placeholder="hh:mm:ss"><br>
                Toggle late: <input type="text" name="time_off_late" placeholder="hh:mm:ss"><br>
                <input type="checkbox" name="time_off_random"> Randomize in early/late period
            </form>
        </p>

        <p>
            During the following days of the week:
            <form>
                {% for day in ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']: %}
                <input type="checkbox" name="dow" value="{{ day.lower() }}"> {{ day }}<br>
                {% endfor %}
            </form>
        </p>

        <p>
            <form>
                During the given year/month/day range:
                <br>
                <input class="doy" type="text" name="year_on" size="4" placeholder="2016">
                <input class="doy" type="text" name="month_on" size="2" placeholder="05">
                <input class="doy" type="text" name="day_on" size="2" placeholder="23">
                <br>
                <input class="doy" type="text" name="year_off" size="4" placeholder="2016">
                <input class="doy" type="text" name="month_off" size="2" placeholder="06">
                <input class="doy" type="text" name="day_off" size="2" placeholder="02">
                (assumes same as start date if left blank)
                <br>
                Note: It is possible to only specify certain fields, e.g. start in May and end in July, or start on the 1st of the month and end on the 20th.
            </form>
        </p>
    </div>

    <div id="rightside" class="box">
        <div id="advanced">
            <h4>
                Advanced query:
            </h4>
            <textarea id="query" rows="4" disabled></textarea>
            <form>
                <input type="checkbox" name="advanced_override"> Create an advanced query manually
            </form>
        </div>

        <div id="submit" class="box">
            <p>
                <form>
                    Rule name: <input type="text" name="name" id="rulename" placeholder="e.g. 'Turn patio lights on at night'">
                </form>
            </p>

            <button type="submit" class="btn btn-success" id="create">Create rule</button>
        </div>
        <br>
        <div id="rules">
            <h4>
                All rules:
            </h4>
            <ol class='vertical'>
                <li class="rule baserule" style="margin: 10px;">
                    <input type="checkbox" class="togglerule" checked>
                    <span float='left' class="rulename">Base rule</span>
                    <a href="#" class="deleterule">
                        <span class="glyphicon glyphicon-remove"></span>
                    </a>
                    <a href="#" class="editrule">
                        <span class="glyphicon glyphicon-cog"></span>
                    </a>
                </li>
            </ol>
        </div>
    </div>
</div>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/static/js/bootstrap.min.js"></script>
<script src='/static/js/bootstrap-switch.js'></script>
<script src='/static/js/bootstrap-editable.min.js'></script>
<script src='/static/js/jquery-sortable.js'></script>
<script src="/static/js/advanced.js"></script>
{% endblock %}
